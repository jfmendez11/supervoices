(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{245:function(e,t,a){e.exports=a(434)},250:function(e,t,a){},434:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(27),r=a.n(i);a(250),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(438),o=a(22),c=a(23),d=a(25),m=a(24),h=a(7),u=a(26),p=a(32),g=a(18),E=a.n(g),C=a(436),b=a(439),f=a(195),v=a(437),S=a(107),y=a.n(S),k=a(10),O=a.n(k),P=a(59),I=a.n(P),j=a(14),_=a.n(j),N=a(34),F=a(19),A=a.n(F),w=a(72),D=a.n(w),R=a(100),T=a.n(R),x=a(43),B=a.n(x),L=a(99),M=a.n(L),U=a(48),V=a.n(U),z=a(30),W=a.n(z),q=a(73),H=a.n(q),K=a(20),G=a.n(K),Y=a(75),J=a.n(Y),X=a(76),$=a.n(X),Q=a(78),Z=a.n(Q),ee=a(77),te=a.n(ee),ae=a(101),ne=a.n(ae),le=a(61),ie=a.n(le),re=a(189),se=a.n(re),oe=a(60),ce=a.n(oe),de=a(108),me=a.n(de),he=a(6),ue=a.n(he),pe=a(21),ge=a(141),Ee=a(28),Ce=a.n(Ee),be=a(37),fe=a.n(be),ve=a(39),Se=a.n(ve),ye=a(38),ke=a.n(ye),Oe=a(47),Pe=a.n(Oe),Ie=a(46),je=a.n(Ie),_e=a(53),Ne=a(111),Fe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleStartDateChange=function(e){a.setState({init_date:e})},a.handleEndDateChange=function(e){a.setState({end_date:e})},a.state={openCreate:!1,name:"",image_path:"",url:"",init_date:new Date("2019-08-18"),end_date:new Date("2019-09-20"),payment:0,script_path:"",recommendations_path:"",selectedFileBanner:null,selectedFileScript:null,selectedFileRecommendations:null},a.openCreate=a.openCreate.bind(Object(h.a)(a)),a.handleCloseCreate=a.handleCloseCreate.bind(Object(h.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(h.a)(a)),a.handleStartDateChange=a.handleStartDateChange.bind(Object(h.a)(a)),a.handleEndDateChange=a.handleEndDateChange.bind(Object(h.a)(a)),a.handleSelectedBannerFile=a.handleSelectedBannerFile.bind(Object(h.a)(a)),a.handleSelectedScriptFile=a.handleSelectedScriptFile.bind(Object(h.a)(a)),a.handleSelectedRecommendationsFile=a.handleSelectedRecommendationsFile.bind(Object(h.a)(a)),a.cleanState=a.cleanState.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"openCreate",value:function(){this.setState({openCreate:!0})}},{key:"handleCloseCreate",value:function(){this.setState({openCreate:!1}),this.cleanState()}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(N.a)({},n,a))}},{key:"handleSelectedBannerFile",value:function(e){this.setState({selectedFileBanner:e.target.files[0],image_path:e.target.files[0].name})}},{key:"handleSelectedScriptFile",value:function(e){this.setState({selectedFileScript:e.target.files[0],script_path:e.target.files[0].name})}},{key:"handleSelectedRecommendationsFile",value:function(e){this.setState({selectedFileRecommendations:e.target.files[0],recommendations_path:e.target.files[0].name})}},{key:"cleanState",value:function(){this.setState({name:"",image_path:"",url:"",init_date:new Date("2019-08-18"),end_date:new Date("2019-08-19"),payment:0,script_path:"",recommendations_path:""})}},{key:"render",value:function(){var e=this;return l.a.createElement(fe.a,{style:{textAlign:"center"},open:this.state.openCreate,onClose:this.handleCloseCreate,"aria-labelledby":"form-dialog-title"},l.a.createElement(je.a,{id:"form-dialog-title"},"Crear Concurso"),l.a.createElement(ke.a,null,l.a.createElement(Pe.a,null,"Llene todos los campos para crear un nuevo concurso"),l.a.createElement(Ce.a,{autoFocus:!0,margin:"dense",name:"name",value:this.state.name,label:"Nombre del concurso",required:!0,variant:"outlined",InputLabelProps:{shrink:!0},onChange:this.handleInputChange}),l.a.createElement(Ce.a,{margin:"dense",name:"url",value:this.state.url,label:"URL",required:!0,variant:"outlined",InputLabelProps:{shrink:!0},onChange:this.handleInputChange}),l.a.createElement(_e.b,{utils:Ne.a},l.a.createElement(_e.a,{label:"Fecha inicio",margin:"dense",name:"init_date",value:this.state.init_date,required:!0,variant:"outlined",onChange:this.handleStartDateChange}),l.a.createElement(_e.a,{label:"Fecha fin",margin:"dense",name:"end_date",value:this.state.end_date,required:!0,variant:"outlined",onChange:this.handleEndDateChange})),l.a.createElement(Ce.a,{margin:"dense",name:"payment",value:this.state.payment,label:"Pago",type:"number",required:!0,variant:"outlined",InputLabelProps:{shrink:!0},onChange:this.handleInputChange}),l.a.createElement("hr",null),l.a.createElement("form",null,l.a.createElement("label",{htmlFor:"banner-file"},l.a.createElement(O.a,{variant:"contained",component:"span"},"Subir im\xe1gen")),l.a.createElement("input",{onChange:this.handleSelectedBannerFile,name:"banner-input",accept:"image/*",style:{display:"none"},id:"banner-file",type:"file"}),l.a.createElement("label",{htmlFor:"script-file"},l.a.createElement(O.a,{variant:"contained",component:"span"},"Subir gui\xf3n/texto")),l.a.createElement("input",{onChange:this.handleSelectedScriptFile,name:"script-input",accept:".pdf, .doc, .docx, .txt",style:{display:"none"},id:"script-file",type:"file"}),l.a.createElement("label",{htmlFor:"recom-file"},l.a.createElement(O.a,{variant:"contained",component:"span"},"Subir recomendaciones")),l.a.createElement("input",{onChange:this.handleSelectedRecommendationsFile,name:"recommendations-input",accept:".pdf, .doc, .docx, .txt",style:{display:"none"},id:"recom-file",type:"file"}))),l.a.createElement(Se.a,null,l.a.createElement(O.a,{onClick:this.handleCloseCreate,color:"primary"},"Cancelar"),l.a.createElement(O.a,{onClick:function(){var t={name:e.state.name,imagePath:e.state.image_path,url:e.state.url,initDate:e.state.init_date,endDate:e.state.end_date,payment:e.state.payment,scriptPath:e.state.script_path,recommendationsPath:e.state.recommendations_path,selectedFileBanner:e.state.selectedFileBanner,selectedFileScript:e.state.selectedFileScript,selectedFileRecommendations:e.state.selectedFileRecommendations};return e.props.createContest(t)},color:"primary"},"Crear")))}}]),t}(n.Component),Ae=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleStartDateChange=function(e){a.setState({init_date:e})},a.handleEndDateChange=function(e){a.setState({end_date:e})},a.state={openEdit:!1,name:"",image_path:"",url:"",init_date:new Date("2019-08-18"),end_date:new Date("2019-09-20"),payment:0,script_path:"",recommendations_path:"",selectedFileBanner:null,selectedFileScript:null,selectedFileRecommendations:null},a.handleCloseEdit=a.handleCloseEdit.bind(Object(h.a)(a)),a.handleClickEdit=a.handleClickEdit.bind(Object(h.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(h.a)(a)),a.handleStartDateChange=a.handleStartDateChange.bind(Object(h.a)(a)),a.handleEndDateChange=a.handleEndDateChange.bind(Object(h.a)(a)),a.handleSelectedBannerFile=a.handleSelectedBannerFile.bind(Object(h.a)(a)),a.handleSelectedScriptFile=a.handleSelectedScriptFile.bind(Object(h.a)(a)),a.handleSelectedRecommendationsFile=a.handleSelectedRecommendationsFile.bind(Object(h.a)(a)),a.cleanState=a.cleanState.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleClickEdit",value:function(){this.setState({openEdit:!0})}},{key:"handleCloseEdit",value:function(){this.setState({openEdit:!1}),this.cleanState()}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(N.a)({},n,a))}},{key:"handleSelectedBannerFile",value:function(e){this.setState({selectedFileBanner:e.target.files[0],image_path:e.target.files[0].name})}},{key:"handleSelectedScriptFile",value:function(e){this.setState({selectedFileScript:e.target.files[0],script_path:e.target.files[0].name})}},{key:"handleSelectedRecommendationsFile",value:function(e){this.setState({selectedFileRecommendations:e.target.files[0],recommendations_path:e.target.files[0].name})}},{key:"cleanState",value:function(){this.setState({name:"",image_path:"",url:"",init_date:new Date("2019-08-18"),end_date:new Date("2019-08-19"),payment:0,script_path:"",recommendations_path:""})}},{key:"render",value:function(){var e=this;return l.a.createElement(fe.a,{open:this.state.openEdit,onClose:this.handleCloseEdit,"aria-labelledby":"form-dialog-title"},l.a.createElement(je.a,{id:"form-dialog-title"},"Modificar Concurso"),l.a.createElement(ke.a,null,l.a.createElement(Pe.a,null,"Llene los campos que desea modificar"),l.a.createElement(Ce.a,{autoFocus:!0,margin:"dense",name:"name",value:this.state.name,label:"Nombre del concurso",variant:"outlined",InputLabelProps:{shrink:!0},onChange:this.handleInputChange}),l.a.createElement(Ce.a,{margin:"dense",name:"url",value:this.state.url,label:"URL",variant:"outlined",InputLabelProps:{shrink:!0},onChange:this.handleInputChange}),l.a.createElement(_e.b,{utils:Ne.a},l.a.createElement(_e.a,{label:"Fecha inicio",margin:"dense",name:"init_date",value:this.state.init_date,required:!0,variant:"outlined",onChange:this.handleStartDateChange}),l.a.createElement(_e.a,{label:"Fecha fin",margin:"dense",name:"end_date",value:this.state.end_date,required:!0,variant:"outlined",onChange:this.handleEndDateChange})),l.a.createElement(Ce.a,{margin:"dense",name:"payment",value:this.state.payment,label:"Pago",type:"number",variant:"outlined",InputLabelProps:{shrink:!0},onChange:this.handleInputChange}),l.a.createElement("form",null,l.a.createElement("label",{htmlFor:"banner-file"},l.a.createElement(O.a,{variant:"contained",component:"span"},"Cambiar imagen")),l.a.createElement("input",{onChange:this.handleSelectedBannerFile,name:"banner-input",accept:"image/*",style:{display:"none"},id:"banner-file",type:"file"}),l.a.createElement("label",{htmlFor:"script-file"},l.a.createElement(O.a,{variant:"contained",component:"span"},"Cambiar gui\xf3n/texto")),l.a.createElement("input",{onChange:this.handleSelectedScriptFile,name:"script-input",accept:".pdf, .doc, .docx, .txt",style:{display:"none"},id:"script-file",type:"file"}),l.a.createElement("label",{htmlFor:"recom-file"},l.a.createElement(O.a,{variant:"contained",component:"span"},"Cambiar recomendaciones")),l.a.createElement("input",{onChange:this.handleSelectedRecommendationsFile,name:"recommendations-input",accept:".pdf, .doc, .docx, .txt",style:{display:"none"},id:"recom-file",type:"file"}))),l.a.createElement(Se.a,null,l.a.createElement(O.a,{onClick:this.handleCloseEdit,color:"primary"},"Cancelar"),l.a.createElement(O.a,{onClick:function(){var t={name:e.state.name,imagePath:e.state.image_path,url:e.state.url,initDate:e.state.init_date,endDate:e.state.end_date,payment:e.state.payment,scriptPath:e.state.script_path,recommendationsPath:e.state.recommendations_path,selectedFileBanner:e.state.selectedFileBanner,selectedFileScript:e.state.selectedFileScript,selectedFileRecommendations:e.state.selectedFileRecommendations};return console.log(t),e.props.editContest(t)},color:"primary"},"Modificar")))}}]),t}(n.Component),we=a(44),De=a.n(we),Re=a(40),Te=a.n(Re),xe=a(89),Be=a.n(xe),Le=a(50),Me=a.n(Le),Ue=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={openDetails:!1,selectedContest:{}},a.editRef=l.a.createRef(),a.handleClickDetails=a.handleClickDetails.bind(Object(h.a)(a)),a.handleCloseDetails=a.handleCloseDetails.bind(Object(h.a)(a)),a.editContest=a.editContest.bind(Object(h.a)(a)),a.handleClickEdit=a.handleClickEdit.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleClickDetails",value:function(e){this.setState({openDetails:!0,selectedContest:e})}},{key:"handleCloseDetails",value:function(){this.setState({openDetails:!1})}},{key:"handleClickEdit",value:function(){this.handleCloseDetails(),this.editRef.current.handleClickEdit()}},{key:"editContest",value:function(e){var t=this,a=(new p.a).get("SUPERVOICES_TOKEN_COOKIE"),n={headers:{Authorization:"Bearer "+a}};e.id=this.state.selectedContest._id,""===e.name&&(e.name=this.state.selectedContest.NAME),""===e.url&&(e.url=this.state.selectedContest.URL),e.initDate===new Date("2019-08-18")&&(e.initDate=this.state.selectedContest.INIT_DATE),e.endDate===new Date("2019-09-20")&&(e.endDate=this.state.selectedContest.END_DATE),0===e.payment&&(e.payment=this.state.selectedContest.PAYMENT),""===e.imagePath&&(e.imagePath=this.state.selectedContest.IMAGE_PATH),""===e.scriptPath&&(e.scriptPath=this.state.selectedContest.SCRIPT_PATH),""===e.recommendationsPath&&(e.recommendationsPath=this.state.selectedContest.RECOMMENDATIONS_PATH),this.editRef.current.handleCloseEdit(),E.a.put("/API/contest",e,n).then(function(e){return console.log(e),e.data}).then(function(n){if(console.log(n),null!==e.selectedFileBanner){var l=new FormData;l.append("file",e.selectedFileBanner,e.selectedFileBanner.name),E.a.post("/API/banner/"+n.contestId,l,{onUploadProgress:function(e){t.setState({loaded:e.loaded/e.total*100})},headers:{Authorization:"Bearer "+a}}).catch(function(e){console.log(e)})}if(null!==e.selectedFileScript){var i=new FormData;i.append("file",e.selectedFileScript,e.selectedFileScript.name),E.a.post("/API/script/"+n.contestId,i,{onUploadProgress:function(e){t.setState({loaded:e.loaded/e.total*100})},headers:{Authorization:"Bearer "+a}}).catch(function(e){console.log(e)})}if(null!==e.selectedFileRecommendations){var r=new FormData;r.append("file",e.selectedFileRecommendations,e.selectedFileRecommendations.name),E.a.post("/API/recommendation/"+n.contestId,r,{onUploadProgress:function(e){t.setState({loaded:e.loaded/e.total*100})},headers:{Authorization:"Bearer "+a}}).catch(function(e){console.log(e)})}t.props.renderContests()}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(Ae,{editContest:this.editContest,ref:this.editRef}),l.a.createElement(fe.a,{open:this.state.openDetails,onClose:this.handleCloseDetails,"aria-labelledby":"form-dialog-title"},l.a.createElement(je.a,{style:{textAlign:"center"},id:"form-dialog-title"},"Detalles"),l.a.createElement(ke.a,null,l.a.createElement(Pe.a,null,"Detalles del concurso ",this.state.selectedContest.NAME),l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(De.a,{primary:"Nombre",secondary:this.state.selectedContest.NAME})),l.a.createElement(Me.a,null),l.a.createElement(Te.a,null,l.a.createElement(De.a,{primary:"URL",secondary:this.state.selectedContest.URL})),l.a.createElement(Me.a,null),l.a.createElement(Te.a,null,l.a.createElement(De.a,{primary:"Fecha De Inicio",secondary:this.state.selectedContest.INIT_DATE})),l.a.createElement(Me.a,null),l.a.createElement(Te.a,null,l.a.createElement(De.a,{primary:"Fecha De Finalizaci\xf3n",secondary:this.state.selectedContest.END_DATE})),l.a.createElement(Me.a,null),l.a.createElement(Te.a,null,l.a.createElement(De.a,{primary:"Pago",secondary:this.state.selectedContest.PAYMENT})),l.a.createElement(Te.a,{button:!0,component:"a",href:"http://localhost:8081"+this.state.selectedContest.IMAGE_PATH,target:"_blank"},l.a.createElement(De.a,{primary:"Imagen subida",secondary:this.state.selectedContest.IMAGE_PATH})),l.a.createElement(Me.a,null),l.a.createElement(Te.a,{button:!0,component:"a",href:"http://localhost:8081"+this.state.selectedContest.SCRIPT_PATH,target:"_blank"},l.a.createElement(De.a,{primary:"Gui\xf3n/Texto subido",secondary:this.state.selectedContest.SCRIPT_PATH})),l.a.createElement(Me.a,null),l.a.createElement(Te.a,{button:!0,component:"a",href:"http://localhost:8081"+this.state.selectedContest.RECOMMENDATIONS_PATH,target:"_blank"},l.a.createElement(De.a,{primary:"Recomendaciones subidas",secondary:this.state.selectedContest.RECOMMENDATIONS_PATH})))),l.a.createElement(Se.a,null,l.a.createElement(O.a,{onClick:this.handleCloseDetails,color:"primary"},"Cancelar"),l.a.createElement(O.a,{onClick:this.handleClickEdit,color:"primary"},"Modificar"),l.a.createElement(O.a,{onClick:function(){return e.props.deleteContest(e.state.selectedContest)},color:"primary"},"Eliminar"))))}}]),t}(n.Component),Ve=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).handleFirstPageButtonClick=function(e){a.props.onChangePage(e,0)},a.handleBackButtonClick=function(e){a.props.onChangePage(e,a.props.page-1)},a.handleNextButtonClick=function(e){a.props.onChangePage(e,a.props.page+1)},a.handleLastPageButtonClick=function(e){a.props.onChangePage(e,Math.max(0,Math.ceil(a.props.count/a.props.rowsPerPage)-1))},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.count,n=e.page,i=e.rowsPerPage,r=e.theme;return l.a.createElement("div",{className:t.root},l.a.createElement(G.a,{onClick:this.handleFirstPageButtonClick,disabled:0===n,"aria-label":"First Page"},"rtl"===r.direction?l.a.createElement(J.a,null):l.a.createElement($.a,null)),l.a.createElement(G.a,{onClick:this.handleBackButtonClick,disabled:0===n,"aria-label":"Previous Page"},"rtl"===r.direction?l.a.createElement(te.a,null):l.a.createElement(Z.a,null)),l.a.createElement(G.a,{onClick:this.handleNextButtonClick,disabled:n>=Math.ceil(a/i)-1,"aria-label":"Next Page"},"rtl"===r.direction?l.a.createElement(Z.a,null):l.a.createElement(te.a,null)),l.a.createElement(G.a,{onClick:this.handleLastPageButtonClick,disabled:n>=Math.ceil(a/i)-1,"aria-label":"Last Page"},"rtl"===r.direction?l.a.createElement($.a,null):l.a.createElement(J.a,null)))}}]),t}(l.a.Component),ze=Object(pe.withStyles)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit}}},{withTheme:!0})(Ve),We={error:se.a};var qe=Object(pe.withStyles)(function(e){return{error:{backgroundColor:e.palette.error.dark}}})(function(e){var t=e.classes,a=e.variant,n=e.onClose,i=e.message,r=We[a];return l.a.createElement(ce.a,{className:ue()(t[a]),"aria-describedby":"client-snackbar",message:l.a.createElement("span",{id:"client-snackbar",className:t.message},l.a.createElement(r,{className:ue()(t.icon,t.iconVariant)}),i),action:[l.a.createElement(G.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:n},l.a.createElement(me.a,{className:t.icon}))]})}),He=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleChangePage=function(e,t){a.setState({page:t})},a.handleCloseSnack=function(){a.setState({openSnack:!1})},a.classes=e.classes,a.state={logged:!1,openCreate:!1,openDetails:!1,openEdit:!1,selectedContest:{},name:"",image_path:"",url:"",init_date:new Date("2019-08-18"),end_date:new Date("2019-09-20"),payment:0,script_path:"",recommendations_path:"",selectedFileBanner:null,selectedFileScript:null,selectedFileRecommendations:null,page:0,rowsPerPage:50,openSnack:!1,messageErr:""},a.classes=e.classes,a.renderHome=a.renderHome.bind(Object(h.a)(a)),a.renderContests=a.renderContests.bind(Object(h.a)(a)),a.handleClickCreateContest=a.handleClickCreateContest.bind(Object(h.a)(a)),a.createContest=a.createContest.bind(Object(h.a)(a)),a.handleClickDetails=a.handleClickDetails.bind(Object(h.a)(a)),a.deleteContest=a.deleteContest.bind(Object(h.a)(a)),a.handleCloseSnack=a.handleCloseSnack.bind(Object(h.a)(a)),a.createReference=l.a.createRef(),a.detailsRef=l.a.createRef(),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"renderHome",value:function(){return l.a.createElement("div",{className:this.classes.layout},l.a.createElement("div",{className:this.classes.heroUnit},l.a.createElement("div",{className:this.classes.heroContent},l.a.createElement(_.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0},"Super Voices"),l.a.createElement(_.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0},"Con SuperVoice podr\xe1s escoger al mejor locutor para tus proyectos. No tendr\xe1s que preocuparte por el almacenamiento o procesamiento de los audios, podr\xe1s concentrarte en encontrar la mejor voz!"),l.a.createElement(_.a,{variant:"h6",align:"center",color:"textSecondary",paragraph:!0},"Inicia sesi\xf3n o crea una cuenta para empezar"),l.a.createElement("div",{className:this.classes.heroButtons},l.a.createElement(A.a,{container:!0,spacing:16,justify:"center"},l.a.createElement(A.a,{item:!0},l.a.createElement(ge.a,{to:"/login",style:{textDecoration:"none",color:"inherit"}},l.a.createElement(O.a,{variant:"contained",color:"primary"},"Empezar ahora!"))))))))}},{key:"renderContests",value:function(){var e=this,t=this.state,a=t.rowsPerPage,n=t.page,i=this.props.contests;return l.a.createElement("div",{className:this.classes.layout},l.a.createElement(A.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center"},l.a.createElement(O.a,{onClick:this.handleClickCreateContest,color:"primary",variant:"contained"},"Crear concurso")),l.a.createElement("hr",{style:{borderColor:"transparent"}}),l.a.createElement(W.a,{className:this.classes.root},l.a.createElement(D.a,{className:this.classes.table},l.a.createElement(M.a,null,l.a.createElement(V.a,null,l.a.createElement(B.a,null,"URL del concurso"),l.a.createElement(B.a,{align:"center"},"Nombre"),l.a.createElement(B.a,{align:"center"},"Detalles"))),l.a.createElement(T.a,null,this.props.contests.length>0?i.slice(n*a,n*a+a).map(function(t,a){return l.a.createElement(V.a,{key:a},l.a.createElement(B.a,{component:"th",scope:"row"},l.a.createElement(ge.a,{to:"/contests/".concat(t.URL)},t.URL)),l.a.createElement(B.a,{align:"center"},t.NAME),l.a.createElement(B.a,{align:"center"},l.a.createElement(O.a,{onClick:function(){return e.handleClickDetails(t)},color:"primary",variant:"contained"},"Ver Detalles")))}):l.a.createElement(V.a,null,l.a.createElement(B.a,{colSpan:3,component:"th",scope:"row"},"No se ha creado ningun concurso todav\xeda."))),l.a.createElement(ne.a,null,l.a.createElement(V.a,null,l.a.createElement(H.a,{rowsPerPageOptions:[50],colSpan:3,count:i.length,rowsPerPage:a,page:n,SelectProps:{native:!0},onChangePage:this.handleChangePage,ActionsComponent:ze,labelDisplayedRows:function(e){var t=e.from,a=e.to,n=e.count;return"".concat(t," a ").concat(a," de ").concat(n)}}))))))}},{key:"handleClickCreateContest",value:function(){this.createReference.current.openCreate()}},{key:"createContest",value:function(e){var t=this,a=(new p.a).get("SUPERVOICES_TOKEN_COOKIE"),n={headers:{Authorization:"Bearer "+a}};E.a.post("/API/contest",e,n).then(function(e){return e.data}).then(function(n){if(console.log("post del banner"),n.messageErr)return t.setState({messageErr:n.messageErr}),void t.setState({openSnack:!0});t.createReference.current.handleCloseCreate();var l=new FormData;l.append("file",e.selectedFileBanner,e.selectedFileBanner.name),console.log("antes de axios.post"),E.a.post("/API/banner/"+n._id,l,{onUploadProgress:function(e){t.setState({loaded:e.loaded/e.total*100})},headers:{Authorization:"Bearer "+a}}).then(function(e){return console.log("then despues de post banner",e.data),e.data}).then(function(l){console.log("script post");var i=new FormData;i.append("file",e.selectedFileScript,e.selectedFileScript.name),E.a.post("/API/script/"+n._id,i,{onUploadProgress:function(e){t.setState({loaded:e.loaded/e.total*100})},headers:{Authorization:"Bearer "+a}}).then(function(e){return console.log("then despues de post script",e.data),e.data}).then(function(l){console.log("script recom");var i=new FormData;i.append("file",e.selectedFileRecommendations,e.selectedFileRecommendations.name),E.a.post("/API/recommendation/"+n._id,i,{onUploadProgress:function(e){t.setState({loaded:e.loaded/e.total*100})},headers:{Authorization:"Bearer "+a}}).then(function(e){return console.log("then despues de post recom",e.data),t.props.renderContests(),e.data}).catch(function(e){console.log("catch 1"),console.log(e)})}).catch(function(e){console.log("catch 2"),console.log(e)})}).catch(function(e){console.log("catch 3"),console.log(e)})}).catch(function(e){console.log("catch 4"),console.log(e)})}},{key:"handleClickDetails",value:function(e){this.detailsRef.current.handleClickDetails(e)}},{key:"deleteContest",value:function(e){var t=this,a={headers:{Authorization:"Bearer "+(new p.a).get("SUPERVOICES_TOKEN_COOKIE")}};this.detailsRef.current.handleCloseDetails(),E.a.delete("/API/contest/"+e._id,a).then(function(e){return t.props.renderContests(),e.data}).catch(function(e){console.log(e)})}},{key:"renderSnackbar",value:function(){return l.a.createElement(ie.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.openSnack,onClose:this.handleCloseSnack,autoHideDuration:6e3,ContentProps:{"aria-describedby":"message-id"}},l.a.createElement(qe,{onClose:this.handleCloseSnack,variant:"error",message:l.a.createElement("p",{className:this.classes.notification,id:"message-id"},this.state.messageErr)}))}},{key:"render",value:function(){return l.a.createElement("div",null,this.props.auth?this.renderContests():this.renderHome(),this.renderSnackbar(),l.a.createElement(Fe,{createContest:this.createContest,ref:this.createReference}),l.a.createElement(Ue,{ref:this.detailsRef,deleteContest:this.deleteContest,renderContests:this.props.renderContests}))}}]),t}(n.Component),Ke=Object(pe.withStyles)(function(e){return{layout:Object(N.a)({width:"auto",marginTop:6*e.spacing.unit,marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(1100+3*e.spacing.unit*2),{width:1100,marginLeft:"auto",marginRight:"auto"}),createButton:{margin:"auto"},root:{width:"100%",overflowX:"auto"},table:{minWidth:700},heroUnit:{backgroundColor:e.palette.background.paper},heroContent:{maxWidth:600,margin:"0 auto",padding:"".concat(8*e.spacing.unit,"px 0 ").concat(6*e.spacing.unit,"px")}}})(He),Ge=a(90),Ye=a.n(Ge),Je=a(102),Xe=a.n(Je),$e=a(87),Qe=a.n($e),Ze=a(58),et=a.n(Ze),tt=a(86),at=a.n(tt),nt=a(142),lt=a.n(nt),it=a(4),rt=a.n(it),st=a(71),ot=a.n(st),ct=a(51),dt=a.n(ct),mt=a(35);function ht(e){return l.a.createElement("span",{style:{padding:24}},e.children)}var ut=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleLogin=function(e){e.preventDefault();var t={email:a.state.email,password:a.state.password};E.a.post("/API/loginUser",t).then(function(e){return e.data}).then(function(e){(a.setState({message:e.message}),a.props.updateAuth(e.auth),e.auth)&&((new p.a).set("SUPERVOICES_TOKEN_COOKIE",e.token,{path:"/"}),a.props.getContests(),a.props.updateComponent())}).catch(function(e){console.log(e)})},a.handleSignup=function(e){e.preventDefault();var t={name:a.state.name,lastname:a.state.lastname,email:a.state.email,password:a.state.password};E.a.post("/API/signupUser",t).then(function(e){return e.data}).then(function(e){(a.setState({message:e.message}),a.props.updateAuth(e.auth),e.auth)&&(new p.a).set("SUPERVOICES_TOKEN_COOKIE",e.token,{path:"/"});a.props.handleUser()}).catch(function(e){console.log(e)})},a.handleTabChange=function(e,t){a.setState({value:t})},a.handleChange=function(e){a.setState(Object(N.a)({},e.target.name,e.target.value))},a.classes=e.classes,a.state={value:0,name:"",lastname:"",email:"",password:"",repeatPassword:"",message:null},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;mt.ValidatorForm.addValidationRule("isPasswordMatch",function(t){return t===e.state.password})}},{key:"render",value:function(){var e=this.state.value;return l.a.createElement("main",{className:this.classes.main},l.a.createElement(Xe.a,null),l.a.createElement(W.a,{className:this.classes.paper},l.a.createElement(ot.a,{value:e,onChange:this.handleTabChange},l.a.createElement(dt.a,{label:"Iniciar sesi\xf3n"}),l.a.createElement(dt.a,{label:"Crear cuenta"})),0===e&&l.a.createElement(ht,null,l.a.createElement(Ye.a,{className:this.classes.avatar},l.a.createElement(lt.a,null)),l.a.createElement(_.a,{component:"h1",variant:"h5"},"Inicia sesi\xf3n"),l.a.createElement(mt.ValidatorForm,{onSubmit:this.handleLogin,ref:"form",onError:function(e){return console.log(e)}},l.a.createElement(mt.TextValidator,{margin:"normal",label:"Correo",fullWidth:!0,onChange:this.handleChange,name:"email",value:this.state.email,validators:["required","isEmail"],errorMessages:["Este campo es obligatorio","Por favor ingrese un correo v\xe1lido"]}),l.a.createElement(Qe.a,{margin:"normal",required:!0,fullWidth:!0},l.a.createElement(at.a,{htmlFor:"password"},"Password"),l.a.createElement(et.a,{name:"password",type:"password",id:"password",autoComplete:"current-password",onChange:this.handleChange})),l.a.createElement(O.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:this.classes.submit},"Iniciar sesi\xf3n"))),1===e&&l.a.createElement(ht,null,l.a.createElement(Ye.a,{className:this.classes.avatar},l.a.createElement(lt.a,null)),l.a.createElement(_.a,{component:"h1",variant:"h5"},"Reg\xedstrate"),l.a.createElement(mt.ValidatorForm,{onSubmit:this.handleSignup,ref:"form",onError:function(e){return console.log(e)}},l.a.createElement(mt.TextValidator,{margin:"normal",label:"Nombre",fullWidth:!0,onChange:this.handleChange,name:"name",value:this.state.name,validators:["required"],errorMessages:["Este campo es obligatorio"]}),l.a.createElement(mt.TextValidator,{margin:"normal",label:"Apellido",fullWidth:!0,onChange:this.handleChange,name:"lastname",value:this.state.lastname,validators:["required"],errorMessages:["Este campo es obligatorio"]}),l.a.createElement(mt.TextValidator,{margin:"normal",label:"Correo",fullWidth:!0,onChange:this.handleChange,name:"email",value:this.state.email,validators:["required","isEmail"],errorMessages:["Este campo es obligatorio","Por favor ingrese un correo v\xe1lido"]}),l.a.createElement(mt.TextValidator,{margin:"normal",label:"Contrase\xf1a",fullWidth:!0,onChange:this.handleChange,name:"password",type:"password",validators:["required"],errorMessages:["Este campo es obligatorio"],value:this.state.password}),l.a.createElement(mt.TextValidator,{margin:"normal",label:"Confirmaci\xf3n contrase\xf1a",fullWidth:!0,onChange:this.handleChange,name:"repeatPassword",type:"password",validators:["isPasswordMatch","required"],errorMessages:["Las contrase\xf1as no coinciden","Este campo es obligatorio"],value:this.state.repeatPassword}),l.a.createElement(O.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:this.classes.submit},"Crear mi cuenta")))))}}]),t}(n.Component),pt=rt()(function(e){return{main:Object(N.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px"),textAlign:"center"},avatar:{margin:"auto",backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}}})(ut),gt=a(194),Et=a.n(gt),Ct=a(192),bt=a.n(Ct),ft=a(193),vt=a.n(ft),St=a(143),yt=a.n(St),kt=a(105),Ot=a.n(kt),Pt=a(103),It=a.n(Pt),jt=a(104),_t=a.n(jt),Nt=a(191),Ft=a.n(Nt),At=a(62),wt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).classes=e.classes,a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(At.b,null,l.a.createElement(It.a,{className:this.classes.card},l.a.createElement(A.a,{item:!0,md:4},l.a.createElement("div",{className:this.classes.cardDetails},l.a.createElement(_t.a,null,l.a.createElement(_.a,{component:"h2",variant:"h5"},this.props.entry.NAME+" "+this.props.entry.LAST_NAME,l.a.createElement(Ot.a,{label:this.props.entry.STATUS,color:"Convertida"===this.props.entry.STATUS?"primary":"secondary",className:this.classes.chip})),l.a.createElement(_.a,{variant:"subtitle1",color:"textSecondary"},this.props.entry.DATE),l.a.createElement(_.a,{variant:"subtitle1"},this.props.entry.EMAIL),this.props.isAdmin()&&null==this.props.winner?l.a.createElement(O.a,{variant:"contained",value:this.props.entry.EMAIL,name:"".concat(this.props.entry.NAME," ").concat(this.props.entry.LAST_NAME),color:"default",className:this.classes.button,onClick:this.props.handleWinner},"Elegir voz",l.a.createElement(Ft.a,{className:this.classes.rightIcon})):""))),this.props.isAdmin()?l.a.createElement(A.a,{item:!0,md:4},l.a.createElement(A.a,{style:{height:"100%"},container:!0,direction:"column",alignItems:"center",justify:"center"},l.a.createElement(_.a,{component:"h2",variant:"h5"},"Voz original"),l.a.createElement(yt.a,{src:this.props.entry.URL_ORIGINAL,controls:!0}))):"","Convertida"===this.props.entry.STATUS?l.a.createElement(A.a,{item:!0,md:this.props.isAdmin()?4:8},l.a.createElement(A.a,{style:{height:"100%"},container:!0,direction:"column",alignItems:"center",justify:"center"},l.a.createElement(_.a,{component:"h2",variant:"h5"},"Voz convertida"),l.a.createElement(yt.a,{src:this.props.entry.URL_CONVERTED,controls:!0}))):"")))}}]),t}(n.Component),Dt=Object(pe.withStyles)(function(e){return{card:{display:"flex",margin:"15px 0px"},cardDetails:{flex:1},button:{margin:e.spacing.unit},leftIcon:{marginRight:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},iconSmall:{fontSize:20},chip:{margin:e.spacing.unit}}})(wt),Rt=a(106),Tt=a.n(Rt),xt=a(70),Bt=a.n(xt),Lt={success:bt.a};var Mt=Object(pe.withStyles)(function(e){return{success:{backgroundColor:vt.a[600]}}})(function(e){var t=e.classes,a=e.variant,n=e.onClose,i=e.message,r=Lt[a];return l.a.createElement(ce.a,{className:ue()(t[a]),"aria-describedby":"client-snackbar",message:l.a.createElement("span",{id:"client-snackbar",className:t.message},l.a.createElement(r,{className:ue()(t.icon,t.iconVariant)}),i),action:[l.a.createElement(G.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:n},l.a.createElement(me.a,{className:t.icon}))]})}),Ut=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).handleFirstPageButtonClick=function(e){a.props.onChangePage(e,0)},a.handleBackButtonClick=function(e){a.props.onChangePage(e,a.props.page-1)},a.handleNextButtonClick=function(e){a.props.onChangePage(e,a.props.page+1)},a.handleLastPageButtonClick=function(e){a.props.onChangePage(e,Math.max(0,Math.ceil(a.props.count/a.props.rowsPerPage)-1))},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.count,n=e.page,i=e.rowsPerPage,r=e.theme;return l.a.createElement("div",{className:t.root},l.a.createElement(G.a,{onClick:this.handleFirstPageButtonClick,disabled:0===n,"aria-label":"First Page"},"rtl"===r.direction?l.a.createElement(J.a,null):l.a.createElement($.a,null)),l.a.createElement(G.a,{onClick:this.handleBackButtonClick,disabled:0===n,"aria-label":"Previous Page"},"rtl"===r.direction?l.a.createElement(te.a,null):l.a.createElement(Z.a,null)),l.a.createElement(G.a,{onClick:this.handleNextButtonClick,disabled:n>=Math.ceil(a/i)-1,"aria-label":"Next Page"},"rtl"===r.direction?l.a.createElement(Z.a,null):l.a.createElement(te.a,null)),l.a.createElement(G.a,{onClick:this.handleLastPageButtonClick,disabled:n>=Math.ceil(a/i)-1,"aria-label":"Last Page"},"rtl"===r.direction?l.a.createElement($.a,null):l.a.createElement(J.a,null)))}}]),t}(l.a.Component),Vt=Object(pe.withStyles)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit}}},{withTheme:!0})(Ut),zt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleChangePage=function(e,t){a.setState({page:t})},a.handleCloseSnack=function(){a.setState({openSnack:!1})},a.classes=e.classes,a.state={contest:{},entries:[],openSubmit:!1,name:"",lastName:"",email:"",selectedFile:null,open:!1,openSnack:!1,vertical:"top",horizontal:"center",page:0,rowsPerPage:50,showLoading:!1},a.handleClickSubmitEntry=a.handleClickSubmitEntry.bind(Object(h.a)(a)),a.handleCloseSubmit=a.handleCloseSubmit.bind(Object(h.a)(a)),a.renderSubmitDialogue=a.renderSubmitDialogue.bind(Object(h.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a.handleSelectedFile=a.handleSelectedFile.bind(Object(h.a)(a)),a.handleWinner=a.handleWinner.bind(Object(h.a)(a)),a.getEntries=a.getEntries.bind(Object(h.a)(a)),a.getContestInfo=a.getContestInfo.bind(Object(h.a)(a)),a.renderEntries=a.renderEntries.bind(Object(h.a)(a)),a.handleCloseSnack=a.handleCloseSnack.bind(Object(h.a)(a)),a.isAdmin=a.isAdmin.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getContestInfo(),this.getEntries()}},{key:"getContestInfo",value:function(){var e=this;E.a.get("/API/contest/".concat(this.props.location.pathname.split("/")[2])).then(function(e){return e.data}).then(function(t){e.setState({contest:t[0]},function(){e.state.contest?E.a.get("/API/entry/".concat(e.state.contest.URL)).then(function(e){return e.data}).then(function(t){e.setState({entries:t})}).catch(function(e){console.log(e)}):e.setState({contest:{}})})}).catch(function(e){console.log(e)})}},{key:"getEntries",value:function(){var e=this;this.state.contest.ID&&E.a.get("/API/entry/".concat(this.state.contest.ID)).then(function(e){return e.data}).then(function(t){e.setState({entries:t})}).catch(function(e){console.log(e)})}},{key:"handleClickSubmitEntry",value:function(){this.setState({openSubmit:!0})}},{key:"handleCloseSubmit",value:function(){this.cleanState(),this.setState({openSubmit:!1})}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(N.a)({},n,a))}},{key:"handleSubmit",value:function(){var e=this,t={contestId:this.state.contest._id,userId:this.state.contest.USER_ID,name:this.state.name,lastName:this.state.lastName,date:(new Date).toISOString().slice(0,19).replace("T"," "),email:this.state.email,status:"No convertida",urlOriginal:"",urlConverted:"",urlContest:this.state.contest.URL};E.a.post("/API/entry",t).then(function(e){return e.data}).then(function(t){var a=new FormData;a.append("file",e.state.selectedFile,e.state.selectedFile.name),E.a.post("/API/recording/"+t.USER_ID+"/"+e.state.contest._id+"/"+t._id,a,{onUploadProgress:function(t){e.setState({showLoading:!0}),e.setState({loaded:t.loaded/t.total*100})}}).then(function(t){e.setState({showLoading:!1,openSnack:!0}),e.getEntries()}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)}),this.setState({openSubmit:!1}),this.cleanState()}},{key:"handleSelectedFile",value:function(e){this.setState({selectedFile:e.target.files[0]})}},{key:"handleWinner",value:function(e){var t=this;e.preventDefault();var a=this.state.contest;a.WINNER_NAME=e.currentTarget.name,a.WINNER_EMAIL=e.currentTarget.value;var n={headers:{Authorization:"Bearer "+(new p.a).get("SUPERVOICES_TOKEN_COOKIE")}};E.a.put("/API/contest/winner",a,n).then(function(e){return e.data}).then(function(e){t.getContestInfo(),t.getEntries()}).catch(function(e){console.log(e)})}},{key:"renderSubmitDialogue",value:function(){return l.a.createElement(fe.a,{style:{textAlign:"center"},open:this.state.openSubmit,onClose:this.handleCloseSubmit,"aria-labelledby":"form-dialog-title"},l.a.createElement(mt.ValidatorForm,{onSubmit:this.handleSubmit,ref:"form",onError:function(e){return console.log(e)}},l.a.createElement(je.a,{id:"form-dialog-title"},"Participar en el concurso"),l.a.createElement(ke.a,null,l.a.createElement(Pe.a,null,"Llene todos los campos para enviar su entrada al concurso"),l.a.createElement(Ce.a,{autoFocus:!0,margin:"dense",name:"name",value:this.state.name,label:"Nombres",required:!0,variant:"outlined",InputLabelProps:{shrink:!0},onChange:this.handleInputChange}),l.a.createElement(Ce.a,{margin:"dense",name:"lastName",value:this.state.lastName,label:"Apellidos",required:!0,variant:"outlined",InputLabelProps:{shrink:!0},onChange:this.handleInputChange}),l.a.createElement(mt.TextValidator,{margin:"dense",label:"Email",variant:"outlined",onChange:this.handleInputChange,name:"email",value:this.state.email,validators:["required","isEmail"],errorMessages:["This field is required","Email is not valid"]}),l.a.createElement("label",{htmlFor:"button-file"},l.a.createElement(O.a,{variant:"contained",component:"span",className:this.classes.button},"Subir archivo")),l.a.createElement("input",{onChange:this.handleSelectedFile,accept:"audio/*",style:{display:"none"},id:"button-file",type:"file"})),l.a.createElement(Se.a,null,l.a.createElement(O.a,{onClick:this.handleCloseSubmit,color:"primary"},"Cancelar"),l.a.createElement(O.a,{type:"submit",color:"primary"},"Crear"))))}},{key:"renderBanner",value:function(){return l.a.createElement(W.a,{className:this.classes.mainFeaturedPost},l.a.createElement(A.a,{container:!0},l.a.createElement(A.a,{item:!0,md:6,sm:6,xs:12},l.a.createElement("div",{className:this.classes.mainFeaturedPostContent},l.a.createElement(_.a,{component:"h1",variant:"h3",color:"inherit",gutterBottom:!0},this.state.contest.NAME),l.a.createElement(_.a,{variant:"h5",color:"inherit",paragraph:!0},"Premio: ",this.state.contest.PAYMENT),null!=this.state.contest.WINNER_NAME?l.a.createElement("div",null,l.a.createElement(_.a,{variant:"h6",color:"inherit",paragraph:!0},"Ganador: ",this.state.contest.WINNER_NAME+" ("+this.state.contest.WINNER_EMAIL+")")):"",l.a.createElement(A.a,{container:!0,direction:"row",justify:"space-between"},l.a.createElement("a",{className:this.classes.link,href:this.state.contest.SCRIPT_PATH,target:"_blank",rel:"noopener noreferrer"},l.a.createElement(O.a,{variant:"contained",size:"large",color:"primary"},"Gui\xf3n/Texto")),l.a.createElement("a",{className:this.classes.link,href:this.state.contest.RECOMMENDATIONS_PATH,target:"_blank",rel:"noopener noreferrer"},l.a.createElement(O.a,{variant:"contained",size:"large",color:"primary"},"Recomendaciones"))))),l.a.createElement(A.a,{item:!0,md:6,sm:6,xs:12},l.a.createElement(A.a,{style:{height:"100%"},container:!0,alignItems:"center",justify:"center"},l.a.createElement("img",{className:this.classes.banner,src:this.state.contest.IMAGE_PATH?this.state.contest.IMAGE_PATH:"https://getuikit.com/v2/docs/images/placeholder_600x400.svg",title:"Image title",alt:"Contest banner"})))))}},{key:"cleanState",value:function(){this.setState({name:"",lastName:"",email:""})}},{key:"renderEntries",value:function(){var e=this,t=this.state,a=t.rowsPerPage,n=t.page,i=this.state.entries;return this.isAdmin()||(i=i.filter(function(e){return"Convertida"===e.STATUS})),l.a.createElement(A.a,{container:!0,spacing:40},l.a.createElement(D.a,null,l.a.createElement(At.c,null,l.a.createElement(V.a,null,l.a.createElement(H.a,{rowsPerPageOptions:[50],colSpan:3,count:i.length,rowsPerPage:a,page:n,SelectProps:{native:!0},onChangePage:this.handleChangePage,ActionsComponent:Vt,labelDisplayedRows:function(e){var t=e.from,a=e.to,n=e.count;return"".concat(t," a ").concat(a," de ").concat(n)}}))),l.a.createElement(At.a,null,i.slice(n*a,n*a+a).map(function(t,a){return l.a.createElement(V.a,{key:a},l.a.createElement(Dt,{entry:t,handleWinner:e.handleWinner,isAdmin:e.isAdmin,winner:e.state.contest.WINNER_EMAIL}))}))))}},{key:"renderSnackbar",value:function(){var e=this.state.vertical,t=this.state.horizontal;return l.a.createElement(ie.a,{anchorOrigin:{vertical:e,horizontal:t},open:this.state.openSnack,onClose:this.handleCloseSnack,autoHideDuration:6e3,ContentProps:{"aria-describedby":"message-id"}},l.a.createElement(Mt,{onClose:this.handleCloseSnack,variant:"success",message:l.a.createElement("p",{className:this.classes.notification,id:"message-id"},"Hemos recibido tu voz y la estamos procesando para que sea publicada en la p\xe1gina del concurso lo m\xe1s pronto posible.",l.a.createElement("br",null),"Cuando se encuentre lista te notificaremos por email!")}))}},{key:"renderLoading",value:function(){return l.a.createElement(ie.a,{open:this.state.showLoading,onClose:this.handleClose,anchorOrigin:{vertical:"top",horizontal:"center"},TransitionComponent:Bt.a,message:l.a.createElement(l.a.Fragment,null,l.a.createElement(Tt.a,{className:this.classes.progress,variant:"determinate",value:this.state.loaded}),l.a.createElement("p",null,"Espere un momento por favor"))})}},{key:"isAdmin",value:function(){return this.props.user?this.props.user._id:""===this.state.contest.USER_ID}},{key:"render",value:function(){return l.a.createElement("div",{className:this.classes.layout},this.renderSnackbar(),this.state.contest&&this.state.contest.STATUS?l.a.createElement("div",null,this.renderBanner(),"ongoing"!==this.state.contest.STATUS||this.isAdmin()?"":l.a.createElement(A.a,{container:!0,spacing:40,direction:"column",alignItems:"center",justify:"center"},l.a.createElement(A.a,{item:!0,xs:12,md:12},l.a.createElement(O.a,{variant:"contained",size:"large",color:"primary",onClick:this.handleClickSubmitEntry,className:this.classes.button},"Participar en el concurso",l.a.createElement(Et.a,{className:this.classes.rightIcon})))),this.renderLoading(),this.renderEntries(),this.renderSubmitDialogue()):l.a.createElement("h4",null,"Contest not found"))}}]),t}(n.Component),Wt=Object(pe.withStyles)(function(e){return{layout:Object(N.a)({width:"auto",marginTop:6*e.spacing.unit,marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(1100+3*e.spacing.unit*2),{width:1100,marginLeft:"auto",marginRight:"auto"}),toolbarMain:{borderBottom:"1px solid ".concat(e.palette.grey[300])},toolbarTitle:{flex:1},toolbarSecondary:{justifyContent:"space-between"},mainFeaturedPost:{backgroundColor:e.palette.grey[800],color:e.palette.common.white,marginBottom:4*e.spacing.unit},mainFeaturedPostContent:Object(N.a)({padding:"".concat(6*e.spacing.unit,"px")},e.breakpoints.up("md"),{paddingRight:0}),mainGrid:{marginTop:3*e.spacing.unit},card:{display:"flex"},cardDetails:{flex:1},banner:{maxHeight:"30vh",margin:"auto"},button:{margin:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},link:{textDecoration:"none",color:"inherit"},notification:{fontSize:"16px"}}})(zt),qt={textDecoration:"none",color:"inherit",margin:"0 5px"},Ht=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleLogout=function(){(new p.a).remove("SUPERVOICES_TOKEN_COOKIE",{path:"/"}),a.setState({auth:!1,user:null})},a.state={auth:!1,contests:[],user:null},a.updateAuth=a.updateAuth.bind(Object(h.a)(a)),a.handleLogout=a.handleLogout.bind(Object(h.a)(a)),a.getContests=a.getContests.bind(Object(h.a)(a)),a.handleUser=a.handleUser.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"updateAuth",value:function(e){this.setState({auth:e})}},{key:"getContests",value:function(){var e=this,t={headers:{Authorization:"Bearer "+(new p.a).get("SUPERVOICES_TOKEN_COOKIE",{path:"/"})}};E.a.get("/API/contests",t).then(function(e){return e.data}).then(function(t){e.setState({contests:t})}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){this.handleUser()}},{key:"handleUser",value:function(){var e=this,t=new p.a,a=t.get("SUPERVOICES_TOKEN_COOKIE",{path:"/"});if(a){var n={headers:{Authorization:"Bearer "+a}};E.a.get("/API/getUser",n).then(function(e){return e.data}).then(function(t){e.setState({user:{name:t.name,lastname:t.lastname,email:t.email,_id:t._id},auth:!0},function(){return e.getContests()})}).catch(function(a){console.log(a),console.log("errror"),t.remove("SUPERVOICES_TOKEN_COOKIE"),e.setState({auth:!1,contests:[],user:null})})}}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"navigation"},l.a.createElement(y.a,{position:"static",color:"default",style:{position:"relative"}},l.a.createElement(I.a,null,l.a.createElement(_.a,{variant:"h6",color:"inherit",noWrap:!0,style:{flex:1}},"Super Voices"),l.a.createElement(C.a,{exact:!0,to:"/",style:qt},l.a.createElement(O.a,null,"Inicio")),this.state.auth?l.a.createElement(O.a,{color:"primary",variant:"outlined",onClick:this.handleLogout},"Cerrar sesi\xf3n"):l.a.createElement(C.a,{exact:!0,to:"/login",style:qt},l.a.createElement(O.a,{color:"primary",variant:"outlined"},"Iniciar sesi\xf3n")))),l.a.createElement("div",{className:"content"},l.a.createElement(b.a,null,l.a.createElement(f.a,{exact:!0,path:"/",render:function(){return l.a.createElement(Ke,{renderContests:e.handleUser.bind(e),contests:e.state.contests,auth:e.state.auth,user:e.state.user})}}),l.a.createElement(f.a,{exact:!0,path:"/login",render:function(){return e.state.auth?l.a.createElement(v.a,{to:"/"}):l.a.createElement(pt,{handleUser:e.handleUser,updateAuth:e.updateAuth,getContests:e.getContests,updateComponent:e.handleUser.bind(e)})}}),l.a.createElement(f.a,{exact:!0,path:"/contests/:url",render:function(t){return l.a.createElement(Wt,Object.assign({auth:e.state.auth,user:e.state.user},t))}}))))}}]),t}(n.Component),Kt=Object(pe.createMuiTheme)({palette:{primary:{main:"#0d47a1"}},typography:{useNextVariants:!0}});r.a.render(l.a.createElement(s.a,null,l.a.createElement(pe.MuiThemeProvider,{theme:Kt},l.a.createElement(Ht,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[245,1,2]]]);
//# sourceMappingURL=main.024c40e1.chunk.js.map